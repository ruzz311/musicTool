"use strict";angular.module("angularMusicToolApp",["ngCookies","ngResource","ngSanitize"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("angularMusicToolApp").factory("ChordService",function(){return{serviceName:"ChordService",stupid:!0}}),angular.module("angularMusicToolApp").factory("NoteService",function(){return{serviceName:"NoteService",frequency:440}}),angular.module("angularMusicToolApp").factory("Scales",function(){return{major:[{keyName:"C",sharps:0,flats:0},{keyName:"G",sharps:1,flats:0},{keyName:"D",sharps:2,flats:0},{keyName:"A",sharps:3,flats:0},{keyName:"E",sharps:4,flats:0},{keyName:"B",sharps:5,flats:0},{keyName:"F#",sharps:6,flats:0},{keyName:"C#",sharps:7,flats:0}],minor:[{keyName:"a",sharps:0,flats:0},{keyName:"e",sharps:1,flats:0},{keyName:"b",sharps:2,flats:0},{keyName:"f#",sharps:3,flats:0},{keyName:"c#",sharps:4,flats:0},{keyName:"g#",sharps:5,flats:0},{keyName:"d#",sharps:6,flats:0},{keyName:"a#",sharps:7,flats:0}]}}),angular.module("angularMusicToolApp").factory("CircleFiths",function(){return{major:["C","G","D","A","E","B/Cb","F#/Gb","C#/Db","Ab","Eb","Bb","F"],minor:["a","e","b","f#","c#","g#/ab","d#/eb","a#","bb","f","c","g","d"]}}),angular.module("angularMusicToolApp").controller("MainCtrl",["$scope","$cookieStore",function(a,b){a.root=b.get("root")||"C3",a.chordColor=b.get("chordColor")||"M",a.rootNote=null,a.chord=null,a.scaleModes=[];for(var c in teoria.scale.scales)a.scaleModes.push(c);a.scaleMode=b.get("scaleMode")||a.scaleModes[0],a.$watch("root",function(){a.rootNote=teoria.note(a.root),a.chord=a.rootNote.chord(a.chordColor),b.put("root",a.root)}),a.$watch("chordColor",function(){a.chord=a.rootNote.chord(a.chordColor),b.put("chordColor",a.chordColor)}),a.$watch("scaleMode",function(){b.put("scaleMode",a.scaleMode)}),a.getScale=function(b){return a.rootNote.scale(b)},a.getNotesInChord=function(){var b=teoria.note(a.root).name(),c=teoria.chord(b+a.chordColor);return c.notes()},a.getScale=function(){return teoria.note(a.root).scale(a.scaleMode)},a.playRoot=function(){var b=new BandJS;b.setMasterVolume(100),b.setTimeSignature(4,4),b.setTempo(120);var c=b.createInstrument("square","oscillators");c.setVolume(100),c.note("whole",a.rootNote.toString().toUpperCase()),c.repeatFromBeginning(1),c.finish(),b.end(),b.play()}}]);